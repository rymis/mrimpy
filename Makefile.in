# Makefile is automatically generated by util/gen_mk.py script
PREFIX = @prefix@
NAME = @PACKAGE_NAME@
INSTALL = @INSTALL@
SRCDIR = @srcdir@
SOURCES_DIR = $(PREFIX)/share/$(NAME)/src
EXTRAS_DIR = $(PREFIX)/share/$(NAME)
BIN_DIR = $(PREFIX)/bin
all:
	@echo 'Nothing to do for all'

install: create_install_dirs install_src install_extras install_bins

install_src: $(SOURCES_DIR)/xmpp.py $(SOURCES_DIR)/xmpp_plugins.py $(SOURCES_DIR)/xmlstream.py $(SOURCES_DIR)/mrim.py $(SOURCES_DIR)/mrim_plugins.py $(SOURCES_DIR)/j2m.py $(SOURCES_DIR)/eserver.py

install_extras: $(EXTRAS_DIR)/LICENCE $(EXTRAS_DIR)/README

install_bins: $(BIN_DIR)/j2m_gw

$(SOURCES_DIR)/xmpp.py: $(SRCDIR)/src/xmpp.py
	$(INSTALL) -m 644 $(SRCDIR)/src/xmpp.py $(SOURCES_DIR)/xmpp.py

$(SOURCES_DIR)/xmpp_plugins.py: $(SRCDIR)/src/xmpp_plugins.py
	$(INSTALL) -m 644 $(SRCDIR)/src/xmpp_plugins.py $(SOURCES_DIR)/xmpp_plugins.py

$(SOURCES_DIR)/xmlstream.py: $(SRCDIR)/src/xmlstream.py
	$(INSTALL) -m 644 $(SRCDIR)/src/xmlstream.py $(SOURCES_DIR)/xmlstream.py

$(SOURCES_DIR)/mrim.py: $(SRCDIR)/src/mrim.py
	$(INSTALL) -m 644 $(SRCDIR)/src/mrim.py $(SOURCES_DIR)/mrim.py

$(SOURCES_DIR)/mrim_plugins.py: $(SRCDIR)/src/mrim_plugins.py
	$(INSTALL) -m 644 $(SRCDIR)/src/mrim_plugins.py $(SOURCES_DIR)/mrim_plugins.py

$(SOURCES_DIR)/j2m.py: $(SRCDIR)/src/j2m.py
	$(INSTALL) -m 644 $(SRCDIR)/src/j2m.py $(SOURCES_DIR)/j2m.py

$(SOURCES_DIR)/eserver.py: $(SRCDIR)/src/eserver.py
	$(INSTALL) -m 644 $(SRCDIR)/src/eserver.py $(SOURCES_DIR)/eserver.py

$(EXTRAS_DIR)/LICENCE: $(SRCDIR)/LICENCE
	$(INSTALL) -m 644 $(SRCDIR)/LICENCE $(EXTRAS_DIR)/LICENCE

$(EXTRAS_DIR)/README: $(SRCDIR)/README
	$(INSTALL) -m 644 $(SRCDIR)/README $(EXTRAS_DIR)/README

$(BIN_DIR)/j2m_gw: $(SRCDIR)/j2m_gw
	$(INSTALL) -m 755 $(SRCDIR)/j2m_gw $(BIN_DIR)/j2m_gw

uninstall:
	rm -f $(SOURCES_DIR)/xmpp.py
	rm -f $(SOURCES_DIR)/xmpp_plugins.py
	rm -f $(SOURCES_DIR)/xmlstream.py
	rm -f $(SOURCES_DIR)/mrim.py
	rm -f $(SOURCES_DIR)/mrim_plugins.py
	rm -f $(SOURCES_DIR)/j2m.py
	rm -f $(SOURCES_DIR)/eserver.py
	rm -f $(EXTRAS_DIR)/LICENCE
	rm -f $(EXTRAS_DIR)/README
	rm -f $(BIN_DIR)/j2m_gw


create_install_dirs:
	mkdir -p $(SOURCES_DIR)
	mkdir -p $(EXTRAS_DIR)
	mkdir -p $(BIN_DIR)
